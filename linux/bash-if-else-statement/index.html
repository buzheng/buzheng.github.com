<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Bash if..else 语句 |  不争笔记</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.60.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.c82345eb542d5eac3fb4abd80d78ec42.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="Bash if..else 语句" />
<meta property="og:description" content="判断是计算机编程最基本的概念之一。就像任何其他的编程语言中的 if ， if..else ， if..elif..else 一样， if 在 Bash 的语句可以用来基于特定条件来执行代码。
在本教程中，我们将向您介绍 Bash if 语句的基础知识，并向您展示如何在 shell 脚本中使用它们。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://buzheng.org/linux/bash-if-else-statement/" />
<meta property="article:published_time" content="2019-05-29T06:00:00+08:00" />
<meta property="article:modified_time" content="2019-05-29T06:00:00+08:00" />
<meta itemprop="name" content="Bash if..else 语句">
<meta itemprop="description" content="判断是计算机编程最基本的概念之一。就像任何其他的编程语言中的 if ， if..else ， if..elif..else 一样， if 在 Bash 的语句可以用来基于特定条件来执行代码。
在本教程中，我们将向您介绍 Bash if 语句的基础知识，并向您展示如何在 shell 脚本中使用它们。">
<meta itemprop="datePublished" content="2019-05-29T06:00:00&#43;08:00" />
<meta itemprop="dateModified" content="2019-05-29T06:00:00&#43;08:00" />
<meta itemprop="wordCount" content="1458">



<meta itemprop="keywords" content="bash,terminal," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Bash if..else 语句"/>
<meta name="twitter:description" content="判断是计算机编程最基本的概念之一。就像任何其他的编程语言中的 if ， if..else ， if..elif..else 一样， if 在 Bash 的语句可以用来基于特定条件来执行代码。
在本教程中，我们将向您介绍 Bash if 语句的基础知识，并向您展示如何在 shell 脚本中使用它们。"/>

  </head>

  <body class="ma0 sans-serif bg-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://buzheng.org" class="f3 fw4 hover-white no-underline white-90 dib">
      不争笔记
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3 mv0">
          
          <li class="list f5 fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/babylonjs/" title="BabylonJS 教程 page">
              BabylonJS 教程
            </a>
          </li>
          
          <li class="list f5 fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/linux/" title="Linux 教程 page">
              Linux 教程
            </a>
          </li>
          
          <li class="list f5 fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title="博文 page">
              博文
            </a>
          </li>
          
        </ul>
      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mv4 w-100">
      <h1 class="f2 mb3">Bash if..else 语句</h1>
      <div class="gray">
      
        <time class="f6 dib tracked" datetime="2019-05-29T06:00:00&#43;08:00">2019年5月29日</time>
        
        
          <span class="mh2 f7">•</span>
          <span class="f6 dib tracked">约 1500 字</span>
          <span class="f6 dib tracked">, 预计阅读时间 5 分钟</span>
        
      </div>
    </header>
    
    <section class="nested-copy-line-height lh-copy f4 nested-links nested-img dark-gray w-70-l pr3">
      <div class="x-md">
          
          
          
  
          
          
          
  
          <p>判断是计算机编程最基本的概念之一。就像任何其他的编程语言中的 <code>if</code> ， <code>if..else</code> ， <code>if..elif..else</code> 一样， <code>if</code> 在 Bash 的语句可以用来基于特定条件来执行代码。</p>
<p>在本教程中，我们将向您介绍 Bash if 语句的基础知识，并向您展示如何在 shell 脚本中使用它们。</p>
<h2 id="if-">if 语句</h2>
<p>Bash 中 <code>if</code> 条件语句可以有不同的形式。最基本的 <code>if</code> 语句采用以下形式：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="k">if</span> CONDITION
<span class="k">then</span>
  STATEMENTS
<span class="k">fi</span>
</code></pre></div><p>if 语句以 <code>if</code> 关键字后跟条件表达式和关键字 <code>then</code> 开头，语句以 <code>fi</code> 关键字结尾。</p>
<p>如果 <code>CONDITION</code> 评估为 <code>True</code> ，则 <code>STATEMENTS</code> 将被执行。如果 <code>CONDITION</code> 是 <code>False</code> ，没有任何反应。</p>
<p>我们来看下面的例子：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="nb">echo</span> -n <span class="s2">&#34;Enter a number: &#34;</span>
<span class="nb">read</span> VAR

<span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR</span> -gt <span class="m">10</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;Variable is greater than 10.&#34;</span>
<span class="k">fi</span>
</code></pre></div><p>该脚本将检查给定数字是否大于 10。 将代码保存为文件并从命令行运行它。</p>
<pre><code class="language-console-bash" data-lang="console-bash">bash test.sh
</code></pre><p>该脚本将提示您输入一个数字。例如，如果输入 15 ，则条件将评估为 <code>true</code> (因为 15 大于 10), 并且将执行该子句中的 <a href="/linux/echo-command-in-linux-with-examples/"><code>echo</code> 命令</a><code>then</code>。</p>
<pre><code class="language-output" data-lang="output">Variable is greater than 10.
</code></pre><h2 id="ifelse-">if..else 语句</h2>
<p>Bash 中 <code>if..else</code> 语句采用以下形式：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="k">if</span> CONDITION
<span class="k">then</span>
  STATEMENTS1
<span class="k">else</span>
  STATEMENTS2
<span class="k">fi</span>
</code></pre></div><p>如果 <code>CONDITION</code> 计算结果 <code>True</code> ， <code>STATEMENTS1</code> 将执行，否则如果 <code>CONDITION</code> 是 <code>False</code> ，则 <code>STATEMENTS2</code> 执行。您在语句中只能有一个 <code>else</code> 子句。</p>
<p>让我们在上一个脚本中添加一个 <code>else</code> 子句：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="nb">echo</span> -n <span class="s2">&#34;Enter a number: &#34;</span>
<span class="nb">read</span> VAR

<span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR</span> -gt <span class="m">10</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;Variable is greater than 10.&#34;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&#34;Variable is equal or less than 10.&#34;</span>
<span class="k">fi</span>
</code></pre></div><p>如果运行脚本并输入数字，脚本将根据数字是大于/小于/等于 10 来打印不同的消息。</p>
<h2 id="ifelifelse-">if..elif..else 语句</h2>
<p>Bash  中 <code>if..elif..else</code> 语句采用以下形式：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="k">if</span> CONDITION1
<span class="k">then</span>
  STATEMENTS1
<span class="k">elif</span> CONDITION2
<span class="k">then</span>
  STATEMENTS2
<span class="k">else</span>
  STATEMENTS3
<span class="k">fi</span>
</code></pre></div><p>如果 <code>CONDITION1</code> 计算结果为 <code>True</code> ， <code>STATEMENTS1</code> 将执行，如果 <code>CONDITION2</code> 计算结果为 <code>True</code> ，则执行 <code>STATEMENTS2</code>。如果没有条件为 <code>True</code> ， <code>STATEMENTS3</code> 则执行。</p>
<p>您可以在语句中包含一个或多个 <code>elif</code> 子句，而 <code>else</code> 子句是可选的。</p>
<p>让我们 <code>elif</code> 在上一个脚本中添加一个子句：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="nb">echo</span> -n <span class="s2">&#34;Enter a number: &#34;</span>
<span class="nb">read</span> VAR

<span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR</span> -gt <span class="m">10</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;Variable is greater than 10.&#34;</span>
<span class="k">elif</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR</span> -eq <span class="m">10</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;Variable is equal to 10.&#34;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&#34;Variable is less than 10.&#34;</span>
<span class="k">fi</span>
</code></pre></div><h2 id="-if-">嵌套的 If 语句</h2>
<p>Bash 允许您在 <code>if</code> 语句中嵌套 <code>if</code> 语句。您可以在另一个 <code>if</code> 语句中放置多个 <code>if</code> 语句。</p>
<p>以下脚本将提示您输入三个数字，并将打印三个数字中最大的数字。</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="nb">echo</span> -n <span class="s2">&#34;Enter the first number: &#34;</span>
<span class="nb">read</span> VAR1
<span class="nb">echo</span> -n <span class="s2">&#34;Enter the second number: &#34;</span>
<span class="nb">read</span> VAR2
<span class="nb">echo</span> -n <span class="s2">&#34;Enter the third number: &#34;</span>
<span class="nb">read</span> VAR3

<span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR1</span> -ge <span class="nv">$VAR2</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR1</span> -ge <span class="nv">$VAR3</span> <span class="o">]</span><span class="o">]</span>
  <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR1</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
  <span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR3</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
  <span class="k">fi</span>
<span class="k">else</span>
  <span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR2</span> -ge <span class="nv">$VAR3</span> <span class="o">]</span><span class="o">]</span>
  <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR2</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
  <span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR3</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
  <span class="k">fi</span>
<span class="k">fi</span>
</code></pre></div><p>以下是输出的外观：</p>
<pre><code class="language-output" data-lang="output">Enter the first number: 4
Enter the second number: 7
Enter the third number: 2
7 is the largest number
</code></pre><p>使用 <a href="/linux/bash-case-statement/">case 语句</a>通常更有效，而不是使用嵌套 <code>if</code> 语句。</p>
<h2 id="heading">多个条件</h2>
<p>逻辑 <code>OR</code> 和 <code>AND</code> 运算符允许您在 <code>if</code> 语句中使用多个条件。</p>
<p>这是另一个版本的脚本，用于打印三个数字中最大的数字。在这个版本而不是嵌套 <code>if</code> 语句中，我们将使用逻辑 AND (<code>&amp;&amp;</code>) 运算符。</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="nb">echo</span> -n <span class="s2">&#34;Enter the first number: &#34;</span>
<span class="nb">read</span> VAR1
<span class="nb">echo</span> -n <span class="s2">&#34;Enter the second number: &#34;</span>
<span class="nb">read</span> VAR2
<span class="nb">echo</span> -n <span class="s2">&#34;Enter the third number: &#34;</span>
<span class="nb">read</span> VAR3

<span class="k">if</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR1</span> -ge <span class="nv">$VAR2</span> <span class="o">]</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR1</span> -ge <span class="nv">$VAR3</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR1</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
<span class="k">elif</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR2</span> -ge <span class="nv">$VAR1</span> <span class="o">]</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span><span class="o">[</span> <span class="nv">$VAR2</span> -ge <span class="nv">$VAR3</span> <span class="o">]</span><span class="o">]</span>
<span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR2</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$VAR3</span><span class="s2"> is the largest number</span><span class="s2">&#34;</span>
<span class="k">fi</span>
</code></pre></div><h2 id="test-">test 操作符</h2>
<p>在 Bash 中， test 命令采用以下语法形式之一：</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="nb">test</span> EXPRESSION
<span class="o">[</span> EXPRESSION <span class="o">]</span>
<span class="o">[</span><span class="o">[</span> EXPRESSION <span class="o">]</span><span class="o">]</span>
</code></pre></div><p>如果您希望脚本可移植，则更应该使用 <code>[</code>, 这是在所有 POSIX shell 上都可用的旧测试命令。 大多数使用 Bash ， Zsh 和 Ksh 作为默认 shell 的现代系统都支持新的升级版测试命令 <code>[[</code> (双括号)。</p>
<p>要取消测试表达式，请使用 逻辑否 <code>NOT`(</code> ! `) 运算符。</p>
<p>以下是一些最常用的运算符：</p>
<ul>
<li><code>-n</code>  <code>VAR</code>  - 如果 VAR 的长度大于零，则为真。</li>
<li><code>-z</code>  <code>VAR</code>  - 如果 VAR 为空，则为真。</li>
<li><code>STRING1 = STRING2</code> - 真正的 STRING1 和 STRING2 是相同的。</li>
<li><code>STRING1 ! = STRING2</code>  - 真正的 STRING1 和 STRING2 不相等。</li>
<li><code>INTEGER1 -eq INTEGER2</code>  - True INTEGER1 和 INTEGER2 相等。</li>
<li><code>INTEGER1 -gt INTEGER2</code>  - True INTEGER1 大于 INTEGER2 。</li>
<li><code>INTEGER1 -lt INTEGER2</code>  - True INTEGER1 小于 INTEGER2 。</li>
<li><code>INTEGER1 -ge INTEGER2</code>  - True INTEGER1 等于或大于 INTEGER2 。</li>
<li><code>INTEGER1 -le INTEGER2</code>  - True INTEGER1 等于或小于 INTEGER2 。</li>
<li><code>-h</code>  <code>FILE</code>  - 如果 FILE 存在且为符号链接，则为 True 。</li>
<li><code>-r</code>  <code>FILE</code>  - 如果 FILE 存在且可读，则为 True 。</li>
<li><code>-w</code>  <code>FILE</code>  - 如果 FILE 存在且可写，则为 True 。</li>
<li><code>-x</code>  <code>FILE</code>  - 如果 FILE 存在且可执行，则为 True 。</li>
<li><code>-d</code>  <code>FILE</code>  - 如果 FILE 存在且为目录，则为 True 。</li>
<li><code>-e</code>  <code>FILE</code>  - 如果 FILE 存在且为文件，则为 True ，无论类型(节点，目录，套接字等)如何。</li>
<li><code>-f</code>  <code>FILE</code>  - 如果 FILE 存在且为常规文件(不是目录或设备)，则为 True 。</li>
</ul>
<h2 id="heading1">结论</h2>
<p>到现在为止，您应该很好地理解如何编写 bash   <code>if</code> 语句。您还可以阅读有关如何<a href="/linux/how-to-compare-strings-in-bash/">比较字符串</a>以及如何<a href="/linux/bash-check-if-file-exists/">检查文件是否存在的信息</a>。</p>
      </div><ul class="pa0">
  
   <li class="list di">
     <a href="/tags/bash" class="link f5 grow no-underline br2 ba ph3 pv2 mb3 mr2 dib white bg-white sans-serif">bash</a>
   </li>
  
   <li class="list di">
     <a href="/tags/terminal" class="link f5 grow no-underline br2 ba ph3 pv2 mb3 mr2 dib white bg-white sans-serif">terminal</a>
   </li>
  
</ul>
<div class="mt6">
        
      </div>
    </section>

    <aside class="w-30-l">




  <div class="x-related bg-near-white pa3 pb1 nested-copy-line-height nested-links mb3">
    <p class="f5 mb3 mt0">相关阅读</p>
    <ul class="pa0 list">
	   
	     <li  class="mv1 truncate">
          <a href="/linux/bash-arrays/">Bash 数组</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/bash-heredoc/">Bash Heredoc</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/create-a-file-in-linux/">如何在 Linux 中创建文件</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/bash-while-loop/">Bash while Loop</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/bash-functions/">Bash函数</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/how-to-create-bash-aliases/">如何创建Bash别名</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/how-to-compare-strings-in-bash/">如何在 Bash 中比较字符串</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/how-to-copy-files-and-directories-in-linux/">如何在 Linux 中复制文件和目录</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/linux-cd-command/">Linux cd 命令</a>
        </li>
	    
	     <li  class="mv1 truncate">
          <a href="/linux/creating-a-self-signed-ssl-certificate/">创建自签名的 SSL 证书</a>
        </li>
	    
    </ul>
</div>

<div class="sticky">
  <div class="x-toc bg-near-white pa3 pb1 nested-list-reset nested-links f5">
    <p class="f5 mb3 mt0">文章目录</p>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#if-">if 语句</a></li>
    <li><a href="#ifelse-">if..else 语句</a></li>
    <li><a href="#ifelifelse-">if..elif..else 语句</a></li>
    <li><a href="#-if-">嵌套的 If 语句</a></li>
    <li><a href="#heading">多个条件</a></li>
    <li><a href="#test-">test 操作符</a></li>
    <li><a href="#heading1">结论</a></li>
  </ul>
</nav>
  </div>
  </div></aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://buzheng.org" >
    &copy; 2019 不争笔记
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
